#import <CoreGraphics/CoreGraphics.h>
#import <UIKit/UIKit.h>

%hook WAGameViewController 
- (id)menubuttonTitleArray {
  return @[@"转发", @"Create a desktop shortcut"];
}

%new
- (UIColor *)colorAtPixel:(CGPoint)point image:(UIImage *)image {        
    NSInteger pointX = trunc(point.x);  
    NSInteger pointY = trunc(point.y);  
    CGImageRef cgImage = image.CGImage;  
    NSUInteger width = image.size.width;  
    NSUInteger height = image.size.height;  
    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();  
    int bytesPerPixel = 4;  
    int bytesPerRow = bytesPerPixel * 1;  
    NSUInteger bitsPerComponent = 8;  
    unsigned char pixelData[4] = { 0, 0, 0, 0 };  
    CGContextRef context = CGBitmapContextCreate(pixelData,  
                                                 1,  
                                                 1,  
                                                 bitsPerComponent,  
                                                 bytesPerRow,  
                                                 colorSpace,  
                                                 kCGImageAlphaPremultipliedLast |     kCGBitmapByteOrder32Big);  
    CGColorSpaceRelease(colorSpace);  
    CGContextSetBlendMode(context, kCGBlendModeCopy);  
      
    CGContextTranslateCTM(context, -pointX, pointY-(CGFloat)height);  
    CGContextDrawImage(context, CGRectMake(0.0f, 0.0f, (CGFloat)width, (CGFloat)height), cgImage);  
    CGContextRelease(context);  
      
    CGFloat red   = (CGFloat)pixelData[0] / 255.0f;  
    CGFloat green = (CGFloat)pixelData[1] / 255.0f;  
    CGFloat blue  = (CGFloat)pixelData[2] / 255.0f;  
    CGFloat alpha = (CGFloat)pixelData[3] / 255.0f;  
    NSLog(@"%f %f %f %f",(CGFloat)pixelData[0],(CGFloat)pixelData[1],(CGFloat)pixelData[2],(CGFloat)pixelData[3]);  
    return [UIColor colorWithRed:red green:green blue:blue alpha:alpha];  
}  
 
- (void)gameActionSheet:(id)sheet clickedButtonTitle:(id)title {
  if ([title isEqualToString:@"Create a desktop shortcut"]) {
    if ([self respondsToSelector:NSSelectorFromString(@"m_extraInfo")]) {
      NSMutableDictionary *m_extraInfo = [self valueForKey:@"m_extraInfo"];
      __block NSString *m_nsBrandIconUrl = nil;
      NSString *m_nsNickName = nil;
      if ([[m_extraInfo allKeys] containsObject:@"weAppWxaContact"]) {
        id weAppWxaContact = m_extraInfo[@"weAppWxaContact"];
        m_nsBrandIconUrl = [weAppWxaContact valueForKey:@"m_nsBrandIconUrl"];
        m_nsNickName = [weAppWxaContact valueForKey:@"m_nsNickName"];
      }
      NSString *weAppUserName = nil;
      if ([[m_extraInfo allKeys] containsObject:@"weAppUserName"]) {
        weAppUserName = m_extraInfo[@"weAppUserName"];
      }

      NSURLRequest *imgDownloadRequest = [NSURLRequest requestWithURL:[NSURL URLWithString:m_nsBrandIconUrl]];  
      [NSURLConnection sendAsynchronousRequest:imgDownloadRequest queue:[NSOperationQueue mainQueue] completionHandler:^(NSURLResponse * _Nullable response, NSData * _Nullable data, NSError * _Nullable connectionError) { 
        if (connectionError || !data) {
          UIAlertView *alert = [[UIAlertView alloc] initWithTitle:nil message:@"connectionError, try again later." delegate:nil cancelButtonTitle:@"Thanks" otherButtonTitles:nil];
          [alert show];
          return;
        }

        UIImage *topImage = [UIImage imageWithData:data];
          
        UIColor *targetColor = ((id(*)(id, SEL, CGPoint, id))objc_msgSend)(self, sel_registerName("colorAtPixel:image:"), CGPointMake(50, 5), topImage);
        if (!targetColor) {
          targetColor = [UIColor whiteColor];
        }
        CGRect imgRect = CGRectMake(0, 0, 100, 100);
        UIGraphicsBeginImageContextWithOptions(imgRect.size, NO, 0);
        CGContextRef context = UIGraphicsGetCurrentContext();
        CGContextSetFillColorWithColor(context, targetColor.CGColor);
        CGContextFillRect(context, imgRect);
        UIImage *bottomImage = UIGraphicsGetImageFromCurrentImageContext();
        UIGraphicsEndImageContext();
          
        UIGraphicsBeginImageContextWithOptions(bottomImage.size, NO, 0.0);
        [bottomImage drawInRect:CGRectMake(0, 0, bottomImage.size.width, bottomImage.size.height)];
        [topImage drawInRect:CGRectMake(0, 0, bottomImage.size.width, bottomImage.size.height)];
        UIImage *handledImage = UIGraphicsGetImageFromCurrentImageContext();

        NSString *documentDirectoryPath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];
        NSString *wxServerDirPath = [NSString stringWithFormat:@"%@/wxServerDirPath", documentDirectoryPath];

        if (wxServerDirPath.length <= 0) {
          UIAlertView *alert = [[UIAlertView alloc] initWithTitle:nil message:@"can't find targetFilePath, let me know by sending me a e-mail -> cbangchen007@gmail.com" delegate:nil cancelButtonTitle:@"Thanks" otherButtonTitles:nil];
          [alert show];
          return;
        }

        NSString *wxServerIconImagePath = [NSString stringWithFormat:@"%@/%@_icon.jpg", wxServerDirPath, weAppUserName];
        if (handledImage) {
          BOOL result =[UIImagePNGRepresentation(handledImage) writeToFile:wxServerIconImagePath atomically:YES];
          if (result) {
            m_nsBrandIconUrl = [NSString stringWithFormat:@"http://localhost:55/%@_icon.jpg", weAppUserName];
          }
          NSString *wxServerFilePath = [NSString stringWithFormat:@"%@/%@.html", wxServerDirPath, weAppUserName];
          [[NSFileManager defaultManager] removeItemAtPath:wxServerFilePath error:nil];
          [[NSFileManager defaultManager] createFileAtPath:wxServerFilePath contents:nil attributes:nil];
          NSData *htmlData = [[NSData alloc] initWithBase64EncodedString:@"PCFET0NUWVBFIGh0bWw+PGh0bWw+Cgo8aGVhZD4KPG1ldGEgbmFtZT0iYXBwbGUtbW9iaWxlLXdlYi1hcHAtY2FwYWJsZSIgY29udGVudD0ieWVzIj4KPG1ldGEgbmFtZT0iYXBwbGUtbW9iaWxlLXdlYi1hcHAtc3RhdHVzLWJhci1zdHlsZSIgY29udGVudD0iYmxhY2siPgo8bWV0YSBjb250ZW50PSJ0ZXh0L2h0bWwgY2hhcnNldD1VVEYtOCIgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiAvPgo8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyIgLz4KPGxpbmsgcmVsPSdhcHBsZS10b3VjaC1pY29uJyBocmVmPSclQCc+Cjx0aXRsZT4lQDwvdGl0bGU+CjxzdHlsZT4KLypAZm9udC1mYWNlIHsKICBmb250LWZhbWlseTogb2N0aWNvbnMtYW5jaG9yOwogIHNyYzogdXJsKGRhdGE6Zm9udC93b2ZmO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGQwOUdSZ0FCQUFBQUFBWWNBQTBBQUFBQUNqUUFBUUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCR1JsUk5BQUFCTUFBQUFCd0FBQUFjYTh2R1RrOVRMeklBQUFGTUFBQUFSQUFBQUZaRzFWSFZZMjFoY0FBQUFaQUFBQUErQUFBQlFnQVA5QWRqZG5RZ0FBQUIwQUFBQUFRQUFBQUVBQ0lDaUdkaGMzQUFBQUhVQUFBQUNBQUFBQWovL3dBRFoyeDVaZ0FBQWR3QUFBRFJBQUFCRUt5aWthTm9aV0ZrQUFBQ3NBQUFBQzBBQUFBMkF0WG9BMmhvWldFQUFBTGdBQUFBSEFBQUFDUUhuZ05GYUcxMGVBQUFBdndBQUFBUUFBQUFFQXdBQUNKc2IyTmhBQUFEREFBQUFBb0FBQUFLQUxJQVZHMWhlSEFBQUFNWUFBQUFId0FBQUNBQkVBQjJibUZ0WlFBQUF6Z0FBQUxCQUFBRnUzSTl4L053YjNOMEFBQUYvQUFBQUIwQUFBQXZhb0Z2YndBQUFBRUFBQUFBekJkeVl3QUFBQURQMklRdkFBQUFBTS9iejd0NG5HTmdaR0Znbk1EQXlzREIxTWwwaG9HQm9SOUNNNzVtTUdMa1lHQmdZbUJsWnNBS0F0SmNVeGdjUHNSOGlHRjIrTy9BRU1Qc3puQVlLTXdJa2dNQTVSRU1PWGljWTJCZ1lHYUFZQmtHUmdZUXNBSHlHTUY4RmdZRklNMENoRUQraDVqLy95RWsvM0tvU2daR05nWVlrNEdSQ1Vnd01hQUNSb1poRHdDczdRZ0dBQUFBSWdLSUFBQUFBZi8vQUFKNG5IV01NUXJDUUJCRi8weldyQ0NJS1VRc1REQ0wyRVhNb2hZR1NTbW9yU2NJbnNSR0wyRE9ZSmUwTnRwN0JLK2dKMUJ4RjFzdFp2anovdjhEUmdoUXpFYzRrSWdLd2lBcHBjQTlMdHpLTFNrZE5oS0ZZM0hGNGxLNjlFeEtzbHg3WGErdlBSVlM0M0c5OHZHMURua0RNSUJVZ0ZOME1EWGZsVTh0YmFaT1VrWFVIMCtVMjdSb1JwT0l5Q0tqYk1DVmVqd3lwekpKRzRqSXdiNDNyZmw2d2J3YW5vY3JKbTlYRllmc2t1VkM1Sy9UUHljek5VN2I4NENYY2J4a3MxVW42SDZ0TEg5dmYyTFJubjhBeDdBNVdRQUFBSGljWTJCa1lHQUE0dGVMMSt5STU3ZjV5c0ROd2dBQzUyOWYwa09tV1JpWVZnRXBEZ1ltRUE4QVV6RUtzUUFBQUhpY1kyQmtZR0IyK08vQUVNUENBQUpBa3BFQkZiQUFBRGdLQWUwRUFBQWlBQUFBQUFRQUFBQUVBQUFBQUFBQUtnQXFBQ29BaUFBQWVKeGpZR1JnWUdCaHNHRmdZZ0FCRU1rRmhBd00veG4wUUFJQUQ2WUJod0I0bkkxVHkwN2NNQlM5UXdLbFFhcFFXM1ZYeVN2RXFEQ1pHYkdhSFVMaUlRMUZLZ2pXTXhrbk1mTEVrZTJBK0lKdSt3bnRydC9RYlZmOWdHNzVqSzU3N0xnOEsxcVFQQ2Zubm50OGZYMU5SQy9wbWpyay96cHJDKzhEN3RCeTlESGdCWG9XZlE0NEF2OHQ0Qmo0WjhDTHRCTDlDbmlKbHVQWEFTZjBMbTRDWHFGWDhRODRkT0xuTUIxN040Yzd0Qm8xQVMvUWkraFR3Qkg0cndISHdOOERYcVEzMFhYQVM3UWFMd1NjMEduOE51QVZXb3UvZ0ZtbmpMckVhRWg5R21EZERHZ0wzQjRKc3JSUERVMmhUT2lNU3VKVUlkS1FRYXlpQXRoNjlyNmFrU1NGcUlKdUExOVRyekNJYVk4c0lveHlyTklyTC8vcHc3QTJpTXlna1g1dkRqK0cra3VvTGRYNEdsR0svOExubHo2L2g5TXBtb085cmFmcno3SUxYRUhIYUF4OTVzOWxzSTdBSE5NQldFWkhVTG5mQVh3RzkvWnFkekxJMDhpdXdSbG9YRThrZmhYWUF2RTIzKzIzRFUzdDYyNnJiczgvOGFkdis5RFdrbnNIcDNFMTdvQ2YrWjQ4cnZFUU5aNzhwYVlNMzhxZmszdi91M2wzdTNHWE4yRG12bXZwZjFTcndrM3BCL1ZTc3A1MTJiQS9HRzVpMldKN3d1NDMweVE1SzNuRkdpT3FndG1TQjVwSlZTaXp3YWFjbVVaelpoWExsWlRxOHFHR0ZZMlljU2txYnRoNmFXMXRSbWxhQ0ZzMjAxNm01cW4zNlNiSnJxb3NHNHVNVjRhUDJQSEJtQjN0anRtZ04yaXprR1F5TFdwcmVrYkludEpGaW5nMzJhNXJLV0NOL1NkU29nYTQ1RUp5a3lRN2FzWnZIUThQVG02Y3NsSXB3eWV5amJWbHROaWtjMkhUUjdZS2g5TEJsOURBREMwVS9qTGNCWkRLck1oVUJmUUJ2WFJ6THRGdGpVOWVOSEtpbjB4NUluVHFiOGxOcGZLdjFzMXhIelRYUnFnS3play9tYjduQjhSWlRDRGhHRVgza0svOFE3NUFtVU0vZUxrZkErMEhpOTA4S3g0ZU5zTWd1ZGc1R0xkUkQ3YTg0bnBpK1l4TnI1aTVLSWJXNWl6WGFzN2NIWElNQWF1MU91ZVpoZmorY09jUDNQOE1OSVdMeVlPQnV4TDZEUnlsSjRjQUFBQjRuR05nWW9BQUxqREp5SUFPV01DaVRJeE1MRG1aZWRrQUJ0SUJ5Z0FBQUE9PSkgZm9ybWF0KCd3b2ZmJyk7Cn0qLwoKYm9keSB7CiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7Cn0KCi5tYXJrZG93bi1ib2R5IHsKICBtaW4td2lkdGg6IDIwMHB4OwogIG1heC13aWR0aDogNzYwcHg7CiAgbWFyZ2luOiAwIGF1dG87CiAgcGFkZGluZzogMjBweDsKCiAgLW1zLXRleHQtc2l6ZS1hZGp1c3Q6IDEwMCU7CiAgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OiAxMDAlOwogIGNvbG9yOiAjMzMzOwogIG92ZXJmbG93OiBoaWRkZW47CiAgZm9udC1mYW1pbHk6ICJIZWx2ZXRpY2EgTmV1ZSIsIEhlbHZldGljYSwgIlNlZ29lIFVJIiwgQXJpYWwsIGZyZWVzYW5zLCBzYW5zLXNlcmlmOwogIGZvbnQtc2l6ZTogMTZweDsKICBsaW5lLWhlaWdodDogMS42OwogIHdvcmQtd3JhcDogYnJlYWstd29yZDsKfQoKLm1hcmtkb3duLWJvZHkgYSB7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7O3dvcmQtd3JhcDogYnJlYWstd29yZDsgd29yZC1icmVhazogYnJlYWstYWxsOwp9CgoubWFya2Rvd24tYm9keSBhOmFjdGl2ZSwKLm1hcmtkb3duLWJvZHkgYTpob3ZlciB7CiAgb3V0bGluZTogMDsKfQoKLm1hcmtkb3duLWJvZHkgc3Ryb25nIHsKICBmb250LXdlaWdodDogYm9sZDsKfQoKLm1hcmtkb3duLWJvZHkgaDEgewogIGZvbnQtc2l6ZTogMmVtOwogIG1hcmdpbjogMC42N2VtIDA7Cn0KCi5tYXJrZG93bi1ib2R5IGltZyB7CiAgYm9yZGVyOiAwOwp9CgoubWFya2Rvd24tYm9keSBociB7CiAgLW1vei1ib3gtc2l6aW5nOiBjb250ZW50LWJveDsKICBib3gtc2l6aW5nOiBjb250ZW50LWJveDsKICBoZWlnaHQ6IDA7Cn0KCi5tYXJrZG93bi1ib2R5IHByZSB7CiAgb3ZlcmZsb3c6IGF1dG87Cn0KCi5tYXJrZG93bi1ib2R5IGNvZGUsCi5tYXJrZG93bi1ib2R5IGtiZCwKLm1hcmtkb3duLWJvZHkgcHJlIHsKICBmb250LWZhbWlseTogbW9ub3NwYWNlLCBtb25vc3BhY2U7CiAgZm9udC1zaXplOiAxZW07Cn0KCi5tYXJrZG93bi1ib2R5IGlucHV0IHsKICBjb2xvcjogaW5oZXJpdDsKICBmb250OiBpbmhlcml0OwogIG1hcmdpbjogMDsKfQoKLm1hcmtkb3duLWJvZHkgaHRtbCBpbnB1dFtkaXNhYmxlZF0gewogIGN1cnNvcjogZGVmYXVsdDsKfQoKLm1hcmtkb3duLWJvZHkgaW5wdXQgewogIGxpbmUtaGVpZ2h0OiBub3JtYWw7Cn0KCi5tYXJrZG93bi1ib2R5IGlucHV0W3R5cGU9ImNoZWNrYm94Il0gewogIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIHBhZGRpbmc6IDA7Cn0KCi5tYXJrZG93bi1ib2R5IHRhYmxlIHsKICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOwogIGJvcmRlci1zcGFjaW5nOiAwOwp9CgoubWFya2Rvd24tYm9keSB0ZCwKLm1hcmtkb3duLWJvZHkgdGggewogIHBhZGRpbmc6IDA7Cn0KCi5tYXJrZG93bi1ib2R5ICogewogIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgoubWFya2Rvd24tYm9keSBpbnB1dCB7CiAgZm9udDogMTNweC8xLjQgSGVsdmV0aWNhLCBhcmlhbCwgZnJlZXNhbnMsIGNsZWFuLCBzYW5zLXNlcmlmLCAiU2Vnb2UgVUkgRW1vamkiLCAiU2Vnb2UgVUkgU3ltYm9sIjsKfQoKLm1hcmtkb3duLWJvZHkgYSB7CiAgY29sb3I6ICM0MTgzYzQ7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9CgoubWFya2Rvd24tYm9keSBhOmhvdmVyLAoubWFya2Rvd24tYm9keSBhOmZvY3VzLAoubWFya2Rvd24tYm9keSBhOmFjdGl2ZSB7CiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7Cn0KCi5tYXJrZG93bi1ib2R5IGhyIHsKICBoZWlnaHQ6IDA7CiAgbWFyZ2luOiAxNXB4IDA7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBib3JkZXI6IDA7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7Cn0KCi5tYXJrZG93bi1ib2R5IGhyOmJlZm9yZSB7CiAgZGlzcGxheTogdGFibGU7CiAgY29udGVudDogIiI7Cn0KCi5tYXJrZG93bi1ib2R5IGhyOmFmdGVyIHsKICBkaXNwbGF5OiB0YWJsZTsKICBjbGVhcjogYm90aDsKICBjb250ZW50OiAiIjsKfQoKLm1hcmtkb3duLWJvZHkgaDEsCi5tYXJrZG93bi1ib2R5IGgyLAoubWFya2Rvd24tYm9keSBoMywKLm1hcmtkb3duLWJvZHkgaDQsCi5tYXJrZG93bi1ib2R5IGg1LAoubWFya2Rvd24tYm9keSBoNiB7CiAgbWFyZ2luLXRvcDogMTVweDsKICBtYXJnaW4tYm90dG9tOiAxNXB4OwogIGxpbmUtaGVpZ2h0OiAxLjE7Cn0KCi5tYXJrZG93bi1ib2R5IGgxIHsKICBmb250LXNpemU6IDMwcHg7Cn0KCi5tYXJrZG93bi1ib2R5IGgyIHsKICBmb250LXNpemU6IDIxcHg7CiAgZm9udC1zdHlsZTogbm9ybWFsOwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGZvbnQtZmFtaWx5OiBTVFhpaGVpLCDigJzljY7mlofnu4bpu5HigJ0sIOKAnE1pY3Jvc29mdCBZYUhlaeKAnSwg4oCc5b6u6L2v6ZuF6buR4oCdOwp9CgoubWFya2Rvd24tYm9keSBoMyB7CiAgZm9udC1zaXplOiAxNnB4Owp9CgoubWFya2Rvd24tYm9keSBoNCB7CiAgZm9udC1zaXplOiAxNHB4Owp9CgoubWFya2Rvd24tYm9keSBoNSB7CiAgZm9udC1zaXplOiAxMnB4Owp9CgoubWFya2Rvd24tYm9keSBoNiB7CiAgZm9udC1zaXplOiAxMXB4Owp9CgoubWFya2Rvd24tYm9keSBibG9ja3F1b3RlIHsKICBtYXJnaW46IDA7CiAgZm9udC1mYW1pbHk6bWljcm9zb2Z0IHlhaGVpLHNhbnMtc2VyaWY7Cn0KCi5tYXJrZG93bi1ib2R5IHVsLAoubWFya2Rvd24tYm9keSBvbCB7CiAgcGFkZGluZzogMDsKICBtYXJnaW4tdG9wOiAwOwogIG1hcmdpbi1ib3R0b206IDA7CiAgZm9udC1mYW1pbHk6bWljcm9zb2Z0IHlhaGVpOwp9CgoubWFya2Rvd24tYm9keSBvbCBvbCwKLm1hcmtkb3duLWJvZHkgdWwgb2wgewogIGxpc3Qtc3R5bGUtdHlwZTogbG93ZXItcm9tYW47Cn0KCi5tYXJrZG93bi1ib2R5IHVsIHVsIG9sLAoubWFya2Rvd24tYm9keSB1bCBvbCBvbCwKLm1hcmtkb3duLWJvZHkgb2wgdWwgb2wsCi5tYXJrZG93bi1ib2R5IG9sIG9sIG9sIHsKICBsaXN0LXN0eWxlLXR5cGU6IGxvd2VyLWFscGhhOwp9CgoubWFya2Rvd24tYm9keSBkZCB7CiAgbWFyZ2luLWxlZnQ6IDA7Cn0KCi5tYXJrZG93bi1ib2R5IGNvZGUgewogIGZvbnQ6IDEycHggQ29uc29sYXMsICJMaWJlcmF0aW9uIE1vbm8iLCBNZW5sbywgQ291cmllciwgbW9ub3NwYWNlOwp9CgoubWFya2Rvd24tYm9keSBwcmUgewogIG1hcmdpbi10b3A6IDA7CiAgbWFyZ2luLWJvdHRvbTogMDsKICBmb250OiAxMnB4IENvbnNvbGFzLCAiTGliZXJhdGlvbiBNb25vIiwgTWVubG8sIENvdXJpZXIsIG1vbm9zcGFjZTsKfQoKLm1hcmtkb3duLWJvZHkga2JkIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTdlN2U3OwogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KCNmZWZlZmUsICNlN2U3ZTcpOwogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjZmVmZWZlLCAjZTdlN2U3KTsKICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7CiAgYm9yZGVyLXJhZGl1czogMnB4OwogIGJvcmRlcjogMXB4IHNvbGlkICNjZmNmY2Y7CiAgY29sb3I6ICMwMDA7CiAgcGFkZGluZzogM3B4IDVweDsKICBsaW5lLWhlaWdodDogMTBweDsKICBmb250OiAxMXB4IENvbnNvbGFzLCAiTGliZXJhdGlvbiBNb25vIiwgTWVubG8sIENvdXJpZXIsIG1vbm9zcGFjZTsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KCi5tYXJrZG93bi1ib2R5Pio6Zmlyc3QtY2hpbGQgewogIG1hcmdpbi10b3A6IDAgIWltcG9ydGFudDsKfQoKLm1hcmtkb3duLWJvZHk+KjpsYXN0LWNoaWxkIHsKICBtYXJnaW4tYm90dG9tOiAwICFpbXBvcnRhbnQ7Cn0KCi5tYXJrZG93bi1ib2R5IC5hbmNob3IgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgYm90dG9tOiAwOwogIGxlZnQ6IDA7CiAgZGlzcGxheTogYmxvY2s7CiAgcGFkZGluZy1yaWdodDogNnB4OwogIHBhZGRpbmctbGVmdDogMzBweDsKICBtYXJnaW4tbGVmdDogLTMwcHg7Cn0KCi5tYXJrZG93bi1ib2R5IC5hbmNob3I6Zm9jdXMgewogIG91dGxpbmU6IG5vbmU7Cn0KCi5tYXJrZG93bi1ib2R5IGgxLAoubWFya2Rvd24tYm9keSBoMiwKLm1hcmtkb3duLWJvZHkgaDMsCi5tYXJrZG93bi1ib2R5IGg0LAoubWFya2Rvd24tYm9keSBoNSwKLm1hcmtkb3duLWJvZHkgaDYgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBtYXJnaW4tdG9wOiAxZW07CiAgbWFyZ2luLWJvdHRvbTogMTZweDsKICBmb250LXdlaWdodDogYm9sZDsKICBsaW5lLWhlaWdodDogMS40Owp9CgoubWFya2Rvd24tYm9keSBoMSAub2N0aWNvbi1saW5rLAoubWFya2Rvd24tYm9keSBoMiAub2N0aWNvbi1saW5rLAoubWFya2Rvd24tYm9keSBoMyAub2N0aWNvbi1saW5rLAoubWFya2Rvd24tYm9keSBoNCAub2N0aWNvbi1saW5rLAoubWFya2Rvd24tYm9keSBoNSAub2N0aWNvbi1saW5rLAoubWFya2Rvd24tYm9keSBoNiAub2N0aWNvbi1saW5rIHsKICBkaXNwbGF5OiBub25lOwogIGNvbG9yOiAjMDAwOwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Cn0KCi5tYXJrZG93bi1ib2R5IGgxOmhvdmVyIC5hbmNob3IsCi5tYXJrZG93bi1ib2R5IGgyOmhvdmVyIC5hbmNob3IsCi5tYXJrZG93bi1ib2R5IGgzOmhvdmVyIC5hbmNob3IsCi5tYXJrZG93bi1ib2R5IGg0OmhvdmVyIC5hbmNob3IsCi5tYXJrZG93bi1ib2R5IGg1OmhvdmVyIC5hbmNob3IsCi5tYXJrZG93bi1ib2R5IGg2OmhvdmVyIC5hbmNob3IgewogIGhlaWdodDogMWVtOwogIHBhZGRpbmctbGVmdDogOHB4OwogIG1hcmdpbi1sZWZ0OiAtMzBweDsKICBsaW5lLWhlaWdodDogMTsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KCi5tYXJrZG93bi1ib2R5IGgxOmhvdmVyIC5hbmNob3IgLm9jdGljb24tbGluaywKLm1hcmtkb3duLWJvZHkgaDI6aG92ZXIgLmFuY2hvciAub2N0aWNvbi1saW5rLAoubWFya2Rvd24tYm9keSBoMzpob3ZlciAuYW5jaG9yIC5vY3RpY29uLWxpbmssCi5tYXJrZG93bi1ib2R5IGg0OmhvdmVyIC5hbmNob3IgLm9jdGljb24tbGluaywKLm1hcmtkb3duLWJvZHkgaDU6aG92ZXIgLmFuY2hvciAub2N0aWNvbi1saW5rLAoubWFya2Rvd24tYm9keSBoNjpob3ZlciAuYW5jaG9yIC5vY3RpY29uLWxpbmsgewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQoKLm1hcmtkb3duLWJvZHkgaDEgewogIHBhZGRpbmctYm90dG9tOiAwLjNlbTsKICBmb250LXNpemU6IDIuMjVlbTsKICBsaW5lLWhlaWdodDogMS4yOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlOwp9CgoubWFya2Rvd24tYm9keSBoMiB7CiAgcGFkZGluZy1ib3R0b206IDAuM2VtOwogIGZvbnQtc2l6ZTogMS43NWVtOwogIGxpbmUtaGVpZ2h0OiAxLjIyNTsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsKfQoKLm1hcmtkb3duLWJvZHkgaDMgewogIGZvbnQtc2l6ZTogMS41ZW07CiAgbGluZS1oZWlnaHQ6IDEuNDM7Cn0KCi5tYXJrZG93bi1ib2R5IGg0IHsKICBmb250LXNpemU6IDEuMjVlbTsKfQoKLm1hcmtkb3duLWJvZHkgaDUgewogIGZvbnQtc2l6ZTogMWVtOwp9CgoubWFya2Rvd24tYm9keSBoNiB7CiAgZm9udC1zaXplOiAxZW07CiAgY29sb3I6ICM3Nzc7Cn0KCi5tYXJrZG93bi1ib2R5IHAsCi5tYXJrZG93bi1ib2R5IGJsb2NrcXVvdGUsCi5tYXJrZG93bi1ib2R5IHVsLAoubWFya2Rvd24tYm9keSBvbCwKLm1hcmtkb3duLWJvZHkgZGwsCi5tYXJrZG93bi1ib2R5IHRhYmxlLAoubWFya2Rvd24tYm9keSBwcmUgewogIG1hcmdpbi10b3A6IDA7CiAgbWFyZ2luLWJvdHRvbTogMTZweDsKfQoKLm1hcmtkb3duLWJvZHkgaHIgewogIGhlaWdodDogNHB4OwogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAxNnB4IDA7CiAgYmFja2dyb3VuZC1jb2xvcjogI2U3ZTdlNzsKICBib3JkZXI6IDAgbm9uZTsKfQoKLm1hcmtkb3duLWJvZHkgdWwsCi5tYXJrZG93bi1ib2R5IG9sIHsKICBwYWRkaW5nLWxlZnQ6IDJlbTsKfQoKLm1hcmtkb3duLWJvZHkgdWwgdWwsCi5tYXJrZG93bi1ib2R5IHVsIG9sLAoubWFya2Rvd24tYm9keSBvbCBvbCwKLm1hcmtkb3duLWJvZHkgb2wgdWwgewogIG1hcmdpbi10b3A6IDA7CiAgbWFyZ2luLWJvdHRvbTogMDsKfQoKLm1hcmtkb3duLWJvZHkgbGk+cCB7CiAgbWFyZ2luLXRvcDogMTBweDsKfQoKLm1hcmtkb3duLWJvZHkgZGwgewogIHBhZGRpbmc6IDA7Cn0KCi5tYXJrZG93bi1ib2R5IGRsIGR0IHsKICBwYWRkaW5nOiAwOwogIG1hcmdpbi10b3A6IDE2cHg7CiAgZm9udC1zaXplOiAxZW07CiAgZm9udC1zdHlsZTogaXRhbGljOwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9CgoubWFya2Rvd24tYm9keSBkbCBkZCB7CiAgcGFkZGluZzogMCAxNnB4OwogIG1hcmdpbi1ib3R0b206IDE2cHg7Cn0KCi5tYXJrZG93bi1ib2R5IGJsb2NrcXVvdGUgewogIHBhZGRpbmc6IDAgMTVweDsKICBjb2xvcjogIzc3NzsKICBib3JkZXItbGVmdDogNHB4IHNvbGlkICNkZGQ7Cn0KCi5tYXJrZG93bi1ib2R5IGJsb2NrcXVvdGU+OmZpcnN0LWNoaWxkIHsKICBtYXJnaW4tdG9wOiAwOwp9CgoubWFya2Rvd24tYm9keSBibG9ja3F1b3RlPjpsYXN0LWNoaWxkIHsKICBtYXJnaW4tYm90dG9tOiAwOwp9CgoubWFya2Rvd24tYm9keSB0YWJsZSB7CiAgZGlzcGxheTogYmxvY2s7CiAgd2lkdGg6IDEwMCU7CiAgb3ZlcmZsb3c6IGF1dG87CiAgd29yZC1icmVhazogbm9ybWFsOwogIHdvcmQtYnJlYWs6IGtlZXAtYWxsOwp9CgoubWFya2Rvd24tYm9keSB0YWJsZSB0aCB7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5tYXJrZG93bi1ib2R5IHRhYmxlIHRoLAoubWFya2Rvd24tYm9keSB0YWJsZSB0ZCB7CiAgcGFkZGluZzogNnB4IDEzcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsKfQoKLm1hcmtkb3duLWJvZHkgdGFibGUgdHIgewogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjY2M7Cn0KCi5tYXJrZG93bi1ib2R5IHRhYmxlIHRyOm50aC1jaGlsZCgybikgewogIGJhY2tncm91bmQtY29sb3I6ICNmOGY4Zjg7Cn0KCi5tYXJrZG93bi1ib2R5IGltZyB7CiAgbWF4LXdpZHRoOiAxMDAlOwogIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgoubWFya2Rvd24tYm9keSBjb2RlIHsKICBwYWRkaW5nOiAwOwogIHBhZGRpbmctdG9wOiAwLjJlbTsKICBwYWRkaW5nLWJvdHRvbTogMC4yZW07CiAgbWFyZ2luOiAwOwogIGZvbnQtc2l6ZTogODUlOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC4wNCk7CiAgYm9yZGVyLXJhZGl1czogM3B4Owp9CgoubWFya2Rvd24tYm9keSBjb2RlOmJlZm9yZSwKLm1hcmtkb3duLWJvZHkgY29kZTphZnRlciB7CiAgbGV0dGVyLXNwYWNpbmc6IC0wLjJlbTsKICBjb250ZW50OiAiXDAwYTAiOwp9CgoubWFya2Rvd24tYm9keSBwcmU+Y29kZSB7CiAgcGFkZGluZzogMDsKICBtYXJnaW46IDA7CiAgZm9udC1zaXplOiAxMDAlOwogIHdvcmQtYnJlYWs6IG5vcm1hbDsKICB3aGl0ZS1zcGFjZTogcHJlOwogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogIGJvcmRlcjogMDsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCB7CiAgbWFyZ2luLWJvdHRvbTogMTZweDsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCBwcmUsCi5tYXJrZG93bi1ib2R5IHByZSB7CiAgcGFkZGluZzogMTZweDsKICBvdmVyZmxvdzogYXV0bzsKICBmb250LXNpemU6IDg1JTsKICBsaW5lLWhlaWdodDogMS40NTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3OwogIGJvcmRlci1yYWRpdXM6IDNweDsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCBwcmUgewogIG1hcmdpbi1ib3R0b206IDA7CiAgd29yZC1icmVhazogbm9ybWFsOwp9CgoubWFya2Rvd24tYm9keSBwcmUgewogIHdvcmQtd3JhcDogbm9ybWFsOwp9CgoubWFya2Rvd24tYm9keSBwcmUgY29kZSB7CiAgZGlzcGxheTogaW5saW5lOwogIG1heC13aWR0aDogaW5pdGlhbDsKICBwYWRkaW5nOiAwOwogIG1hcmdpbjogMDsKICBvdmVyZmxvdzogaW5pdGlhbDsKICBsaW5lLWhlaWdodDogaW5oZXJpdDsKICB3b3JkLXdyYXA6IG5vcm1hbDsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICBib3JkZXI6IDA7Cn0KCi5tYXJrZG93bi1ib2R5IHByZSBjb2RlOmJlZm9yZSwKLm1hcmtkb3duLWJvZHkgcHJlIGNvZGU6YWZ0ZXIgewogIGNvbnRlbnQ6IG5vcm1hbDsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCB7CiAgYmFja2dyb3VuZDogI2ZmZjsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAubWYsCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLm1oLAoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5taSwKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAubW8sCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLmlsLAoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5tIHsKICBjb2xvcjogIzk0NTI3NzsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAucywKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAuc2IsCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLnNjLAoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5zZCwKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAuczIsCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLnNlLAoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5zaCwKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAuc2ksCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLnN4LAoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5zMSB7CiAgY29sb3I6ICNkZjUwMDA7Cn0KCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLmtjLAoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5rZCwKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAua24sCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLmtwLAoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5rciwKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAua3QsCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLmssCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLm8gewogIGZvbnQtd2VpZ2h0OiBib2xkOwp9CgoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5rdCB7CiAgY29sb3I6ICM0NTg7Cn0KCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLmMsCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLmNtLAoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5jMSB7CiAgY29sb3I6ICM5OTg7CiAgZm9udC1zdHlsZTogaXRhbGljOwp9CgoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5jcCwKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAuY3MgewogIGNvbG9yOiAjOTk5OwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9CgoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5jcyB7CiAgZm9udC1zdHlsZTogaXRhbGljOwp9CgoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5uIHsKICBjb2xvcjogIzMzMzsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAubmEsCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLm52LAoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC52YywKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAudmcsCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLnZpIHsKICBjb2xvcjogIzAwODA4MDsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAubmIgewogIGNvbG9yOiAjMDA4NkIzOwp9CgoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5uYyB7CiAgY29sb3I6ICM0NTg7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLm5vIHsKICBjb2xvcjogIzA5NGU5OTsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAubmkgewogIGNvbG9yOiAjODAwMDgwOwp9CgoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5uZSB7CiAgY29sb3I6ICM5OTAwMDA7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLm5mIHsKICBjb2xvcjogIzk0NTI3NzsKICBmb250LXdlaWdodDogYm9sZDsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAubm4gewogIGNvbG9yOiAjNTU1Owp9CgoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5udCB7CiAgY29sb3I6ICMwMDAwODA7Cn0KCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLmVyciB7CiAgY29sb3I6ICNhNjE3MTc7CiAgYmFja2dyb3VuZC1jb2xvcjogI2UzZDJkMjsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAuZ2QgewogIGNvbG9yOiAjMDAwOwogIGJhY2tncm91bmQtY29sb3I6ICNmZGQ7Cn0KCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLmdkIC54IHsKICBjb2xvcjogIzAwMDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFhOwp9CgoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5nZSB7CiAgZm9udC1zdHlsZTogaXRhbGljOwp9CgoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5nciB7CiAgY29sb3I6ICNhYTAwMDA7Cn0KCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLmdoIHsKICBjb2xvcjogIzk5OTsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAuZ2kgewogIGNvbG9yOiAjMDAwOwogIGJhY2tncm91bmQtY29sb3I6ICNkZmQ7Cn0KCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLmdpIC54IHsKICBjb2xvcjogIzAwMDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWZhOwp9CgoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5nbyB7CiAgY29sb3I6ICM4ODg7Cn0KCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLmdwIHsKICBjb2xvcjogIzU1NTsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAuZ3MgewogIGZvbnQtd2VpZ2h0OiBib2xkOwp9CgoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5ndSB7CiAgY29sb3I6ICM4MDAwODA7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLmd0IHsKICBjb2xvcjogI2FhMDAwMDsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAub3cgewogIGZvbnQtd2VpZ2h0OiBib2xkOwp9CgoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC53IHsKICBjb2xvcjogI2JiYjsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAuc3IgewogIGNvbG9yOiAjMDE3OTM2Owp9CgoubWFya2Rvd24tYm9keSAuaGlnaGxpZ2h0IC5zcyB7CiAgY29sb3I6ICM4YjQ2N2Y7Cn0KCi5tYXJrZG93bi1ib2R5IC5oaWdobGlnaHQgLmJwIHsKICBjb2xvcjogIzk5OTsKfQoKLm1hcmtkb3duLWJvZHkgLmhpZ2hsaWdodCAuZ2MgewogIGNvbG9yOiAjOTk5OwogIGJhY2tncm91bmQtY29sb3I6ICNFQUYyRjU7Cn0KCi5tYXJrZG93bi1ib2R5IC5vY3RpY29uIHsKICBmb250OiBub3JtYWwgbm9ybWFsIDE2cHggb2N0aWNvbnMtYW5jaG9yOwogIGxpbmUtaGVpZ2h0OiAxOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7CiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTsKICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lOwogIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7CiAgLW1zLXVzZXItc2VsZWN0OiBub25lOwogIHVzZXItc2VsZWN0OiBub25lOwp9CgoubWFya2Rvd24tYm9keSAub2N0aWNvbi1saW5rOmJlZm9yZSB7CiAgY29udGVudDogJ1xmMDVjJzsKfQoKLm1hcmtkb3duLWJvZHkgLnRhc2stbGlzdC1pdGVtIHsKICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7Cn0KCi5tYXJrZG93bi1ib2R5IC50YXNrLWxpc3QtaXRlbSsudGFzay1saXN0LWl0ZW0gewogIG1hcmdpbi10b3A6IDNweDsKfQoKLm1hcmtkb3duLWJvZHkgLnRhc2stbGlzdC1pdGVtIGlucHV0IHsKICBmbG9hdDogbGVmdDsKICBtYXJnaW46IDAuM2VtIDAgMC4yNWVtIC0xLjZlbTsKICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9CgovKgoKZ2l0aHViLmNvbSBzdHlsZSAoYykgVmFzaWx5IFBvbG92bnlvdiA8dmFzdEB3aGl0ZWFudHMubmV0PgoKKi8KCi5obGpzIHsKICBkaXNwbGF5OiBibG9jazsKICBvdmVyZmxvdy14OiBhdXRvOwogIHBhZGRpbmc6IDAuNWVtOwogIGNvbG9yOiAjMzMzOwogIGJhY2tncm91bmQ6ICNmOGY4Zjg7CiAgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OiBub25lOwp9CgouaGxqcy1jb21tZW50LAouZGlmZiAuaGxqcy1oZWFkZXIgewogIGNvbG9yOiAjOTk4OwogIGZvbnQtc3R5bGU6IGl0YWxpYzsKfQoKLmhsanMta2V5d29yZCwKLmNzcyAucnVsZSAuaGxqcy1rZXl3b3JkLAouaGxqcy13aW51dGlscywKLm5naW54IC5obGpzLXRpdGxlLAouaGxqcy1zdWJzdCwKLmhsanMtcmVxdWVzdCwKLmhsanMtc3RhdHVzIHsKICBjb2xvcjogIzMzMzsKICBmb250LXdlaWdodDogYm9sZDsKfQoKLmhsanMtbnVtYmVyLAouaGxqcy1oZXhjb2xvciwKLnJ1YnkgLmhsanMtY29uc3RhbnQgewogIGNvbG9yOiAjMDA4MDgwOwp9CgouaGxqcy1zdHJpbmcsCi5obGpzLXRhZyAuaGxqcy12YWx1ZSwKLmhsanMtZG9jdGFnLAoudGV4IC5obGpzLWZvcm11bGEgewogIGNvbG9yOiAjZDE0Owp9CgouaGxqcy10aXRsZSwKLmhsanMtaWQsCi5zY3NzIC5obGpzLXByZXByb2Nlc3NvciB7CiAgY29sb3I6ICM5MDA7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5obGpzLWxpc3QgLmhsanMta2V5d29yZCwKLmhsanMtc3Vic3QgewogIGZvbnQtd2VpZ2h0OiBub3JtYWw7Cn0KCi5obGpzLWNsYXNzIC5obGpzLXRpdGxlLAouaGxqcy10eXBlLAoudmhkbCAuaGxqcy1saXRlcmFsLAoudGV4IC5obGpzLWNvbW1hbmQgewogIGNvbG9yOiAjNDU4OwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9CgouaGxqcy10YWcsCi5obGpzLXRhZyAuaGxqcy10aXRsZSwKLmhsanMtcnVsZSAuaGxqcy1wcm9wZXJ0eSwKLmRqYW5nbyAuaGxqcy10YWcgLmhsanMta2V5d29yZCB7CiAgY29sb3I6ICMwMDAwODA7CiAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKfQoKLmhsanMtYXR0cmlidXRlLAouaGxqcy12YXJpYWJsZSwKLmxpc3AgLmhsanMtYm9keSwKLmhsanMtbmFtZSB7CiAgY29sb3I6ICMwMDgwODA7Cn0KCi5obGpzLXJlZ2V4cCB7CiAgY29sb3I6ICMwMDk5MjY7Cn0KCi5obGpzLXN5bWJvbCwKLnJ1YnkgLmhsanMtc3ltYm9sIC5obGpzLXN0cmluZywKLmxpc3AgLmhsanMta2V5d29yZCwKLmNsb2p1cmUgLmhsanMta2V5d29yZCwKLnNjaGVtZSAuaGxqcy1rZXl3b3JkLAoudGV4IC5obGpzLXNwZWNpYWwsCi5obGpzLXByb21wdCB7CiAgY29sb3I6ICM5OTAwNzM7Cn0KCi5obGpzLWJ1aWx0X2luIHsKICBjb2xvcjogIzAwODZiMzsKfQoKLmhsanMtcHJlcHJvY2Vzc29yLAouaGxqcy1wcmFnbWEsCi5obGpzLXBpLAouaGxqcy1kb2N0eXBlLAouaGxqcy1zaGViYW5nLAouaGxqcy1jZGF0YSB7CiAgY29sb3I6ICM5OTk7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5obGpzLWRlbGV0aW9uIHsKICBiYWNrZ3JvdW5kOiAjZmRkOwp9CgouaGxqcy1hZGRpdGlvbiB7CiAgYmFja2dyb3VuZDogI2RmZDsKfQoKLmRpZmYgLmhsanMtY2hhbmdlIHsKICBiYWNrZ3JvdW5kOiAjMDA4NmIzOwp9CgouaGxqcy1jaHVuayB7CiAgY29sb3I6ICNhYWE7Cn0KCgo8L3N0eWxlPgoKPHN0eWxlPiBAbWVkaWEgcHJpbnR7IC5obGpze292ZXJmbG93OiB2aXNpYmxlOyB3b3JkLXdyYXA6IGJyZWFrLXdvcmQgIWltcG9ydGFudDt9IH08L3N0eWxlPjwvaGVhZD48Ym9keT48ZGl2IGNsYXNzPSJtYXJrZG93bi1ib2R5Ij4KPGEgaHJlZj0id2VpeGluOi8vY2JhbmdjaGVuL1dYQXBwU2hvcnRDdXRHZW5lcmF0b3IvJUAiIGlkPSJvcGVuV1hBcHAiIHN0eWxlPSJkaXNwbGF5OiBub25lIj48L2EgPgo8aDIgaWQ9InRvY18wIj5HdWlkZTwvaDI+Cgo8b2w+CjxsaT5UYXAgdGhlIGJvb2ttYXJrIGljb248L2xpPgo8L29sPgoKPHA+PGltZyBzcmM9Imh0dHBzOi8vd3MzLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5jNzlneTFmb2ttOWRnZjVoajMwNWYwM210OG8uanBnIiBhbHQ9IiIvPu+/vDwvcD4KCjxibG9ja3F1b3RlPgo8cD5XaGVuIHlvdSYjMzk7cmUgb24gdGhlIHBhZ2UgeW91IHdhbnQgdG8gY3JlYXRlIGEgc2hvcnRjdXQgdG8sIGp1c3QgdGFwIG9uIHRoZSBib29rbWFyayBpY29uLjwvcD4KPC9ibG9ja3F1b3RlPgoKPG9sPgo8bGk+VGFwIG9uICYjMzk7QWRkIHRvIGhvbWUgc2NyZWVuJiMzOTs8L2xpPgo8L29sPgoKPHA+PGltZyBzcmM9Imh0dHBzOi8vd3MxLnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5jNzlneTFmb2ttOWRrM3BjajMwNWYwM20zeWkuanBnIiBhbHQ9IiIvPu+/vDwvcD4KCjxibG9ja3F1b3RlPgo8cD5XaGVuIHRoZSBib29rbWFyayBvcHRpb25zIGFwcGVhciwgdGFwIG9uICYjMzk7QWRkIHRvIGhvbWUgc2NyZWVuJiMzOTsuPC9wPgo8L2Jsb2NrcXVvdGU+Cgo8b2w+CjxsaT5DaGFuZ2UgdGhlIHNob3J0Y3V0IG5hbWU8L2xpPgo8L29sPgoKPHA+PGltZyBzcmM9Imh0dHBzOi8vd3M0LnNpbmFpbWcuY24vbGFyZ2UvMDA2dE5jNzlneTFmb2ttOWRtaWE0ajMwNWYwM21kZnQuanBnIiBhbHQ9IiIvPu+/vDwvcD4KCjxibG9ja3F1b3RlPgo8cD5FZGl0IHRoZSBzaG9ydGN1dCBuYW1lIHRvIHNvbWV0aGluZyB5b3UmIzM5O2xsIGZpbmQgZWFzeSB0byByZW1lbWJlciBhbmQgdGFwIG9uIHRoZSAmIzM5O0FkZCYjMzk7IGJ1dHRvbi48L3A+CjwvYmxvY2txdW90ZT4KCjxvbD4KPGxpPlNlZSB0aGUgc2hvcnRjdXQgYXBwZWFyPC9saT4KPC9vbD4KCjxwPjxpbWcgc3JjPSJodHRwczovL3dzMi5zaW5haW1nLmNuL2xhcmdlLzAwNnROYzc5Z3kxZm9rbTlkb3hqZmozMDVmMDNtanJhLmpwZyIgYWx0PSIiLz7vv7w8L3A+Cgo8YmxvY2txdW90ZT4KPHA+WW91JiMzOTtsbCB0aGVuIHNlZSBhIHNob3J0Y3V0IGFwcGVhciBvbiB5b3VyIGlQaG9uZSYjMzk7cyBob21lIHNjcmVlbi48L3A+CjwvYmxvY2txdW90ZT4KCjwvZGl2PjwvYm9keT4KCjxzY3JpcHQ+CiAgICBpZiAod2luZG93Lm5hdmlnYXRvci5zdGFuZGFsb25lID09IHRydWUpIHsKICAgICAgICB2YXIgbG5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wZW5XWEFwcCIpCiAgICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50JykKICAgICAgICBldnQuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJykKICAgICAgICBsbmsuZGlzcGF0Y2hFdmVudChldnQpCiAgICB9Cjwvc2NyaXB0PgoKPC9odG1sPgo=" options:0];
          NSString *htmlString = [[NSString alloc] initWithData:htmlData encoding:NSUTF8StringEncoding];
          NSString *targetString = [NSString stringWithFormat:htmlString, m_nsBrandIconUrl, m_nsNickName, weAppUserName];
          [targetString writeToFile:wxServerFilePath atomically:YES encoding:NSUTF8StringEncoding error:nil];
          NSString *urlStrWithPort = [NSString stringWithFormat:@"http://localhost:55/%@.html", weAppUserName];
          [[UIApplication sharedApplication] openURL:[NSURL URLWithString:urlStrWithPort]];
        }
      }];
    }
  }
%orig; 
}
%end
